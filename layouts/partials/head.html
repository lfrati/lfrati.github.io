<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<meta name="author" content="Lapo Frati" />
{{/* Prefer explicit description, then summary, then Hugo-generated summary */}}
{{ $desc := "" }}
{{ with .Description }}{{ $desc = . }}{{ else }}
  {{ with .Params.summary }}{{ $desc = . }}{{ else }}
    {{ with .Summary }}{{ $desc = . }}{{ end }}
  {{ end }}
{{ end }}
{{ with $desc }}
  <meta name="description" content="{{ . | plainify | htmlUnescape | truncate 160 }}" />
{{ end }}

<link
  rel="preload"
  as="font"
  type="font/woff2"
  href="/fonts/Mulish/mulish-v18-latin-regular.woff2"
  crossorigin
/>
<link
  rel="preload"
  as="font"
  type="font/woff2"
  href="/fonts/Mulish/mulish-v18-latin-600.woff2"
  crossorigin
/>
<link
  rel="preload"
  as="font"
  type="font/woff2"
  href="/fonts/Mulish/mulish-v18-latin-700.woff2"
  crossorigin
/>

<!-- RSS Feed -->
{{ with .OutputFormats.Get "rss" }}
  {{ printf `<link rel=%q type=%q href=%q title=%q>` .Rel .MediaType.Type .Permalink site.Title | safeHTML }}
{{ end }}


<!-- SVG favicons for modern browsers -->
<link
  rel="icon"
  type="image/svg+xml"
  href="/favicon/favicon.svg"
  media="(prefers-color-scheme: light)"
/>
<link
  rel="icon"
  type="image/svg+xml"
  href="/favicon-dark/favicon.svg"
  media="(prefers-color-scheme: dark)"
/>
<!-- PNG fallbacks -->
<link
  rel="icon"
  type="image/png"
  href="/favicon/favicon-96x96.png"
  sizes="96x96"
  media="(prefers-color-scheme: light)"
/>
<link
  rel="icon"
  type="image/png"
  href="/favicon-dark/favicon-96x96.png"
  sizes="96x96"
  media="(prefers-color-scheme: dark)"
/>
<!-- ICO fallbacks for legacy browsers -->
<link
  rel="icon"
  type="image/x-icon"
  href="/favicon/favicon.ico"
  media="(prefers-color-scheme: light)"
/>
<link
  rel="icon"
  type="image/x-icon"
  href="/favicon-dark/favicon.ico"
  media="(prefers-color-scheme: dark)"
/>
<title>
  {{ if .IsHome }}
    {{ site.Title }}
  {{ else }}
    {{ printf "%s %s" site.Title .Title }}
  {{ end }}
</title>
{{ partialCached "head/css.html" . }}

{{ if .Param "math" }}
  {{ partialCached "math.html" . }}
{{ end }}
