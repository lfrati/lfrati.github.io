(()=>{document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".highlight").forEach(function(t){let n=document.createElement("button");n.className="copy-button",n.textContent="Copy",n.setAttribute("aria-label","Copy code to clipboard"),t.appendChild(n),n.addEventListener("click",async function(){let i=t.querySelector("pre code")||t.querySelector("code"),g="";if(i){let d=i.cloneNode(!0);d.querySelectorAll('span[style*="user-select:none"]').forEach(T=>T.remove()),g=d.textContent||""}try{await navigator.clipboard.writeText(g),n.textContent="Copied!",n.classList.add("copied"),setTimeout(function(){n.textContent="Copy",n.classList.remove("copied")},2e3)}catch(d){console.error("Failed to copy: ",d),n.textContent="Failed",setTimeout(function(){n.textContent="Copy"},2e3)}})})});window.resizeSketch=function(t){try{let n=t?.contentWindow?.document?.body?.querySelector("#defaultCanvas0");if(!n)return;t.style.height=n.style.height,t.style.width=n.style.width}catch{}};var s=null,m=0,r={};function W(){var e=window.scrollY||window.pageYOffset;s!=null&&(r.velocity=e-s,r.delta=r.velocity>=0?r.velocity:-1*r.velocity),s=e,m&&clearTimeout(m),m=setTimeout(function(){s=null},30)}function x(e,t){var n=e.getBoundingClientRect();return n.top+n.height>=0&&n.left+n.width>=0&&n.bottom-n.height<=(window.innerHeight||document.documentElement.clientHeight)+t&&n.right-n.width<=(window.innerWidth||document.documentElement.clientWidth)+t}var w=!1,c=[],l,a=[],C=0,L=0,u,h,o={},E;function k(e,t){return function(){var n=this,i=arguments;clearTimeout(u),u=setTimeout(function(){e.apply(n,i)},t)}}function p(){r.delta<o.delta.speed&&(h||(h=!0,f(),setTimeout(function(){h=!1},o.delta.timeout))),k(function(){f()},o.debounce)()}function S(){f(),addEventListener("scroll",p,!1),addEventListener("resize",p,!1)}function q(){c=[],u&&clearTimeout(u),v()}function v(){removeEventListener("scroll",p,!1),removeEventListener("resize",p,!1)}function f(){E||(c.forEach(function(e,t){e&&x(e,o.bounds)?a[t]&&(a[t]=!1,C++,o.appear&&o.appear(e),!o.disappear&&!o.reappear&&(c[t]=null)):(a[t]===!1&&(o.disappear&&o.disappear(e),L++,o.reappear||(c[t]=null)),a[t]=!0)}),!o.reappear&&(!o.appear||o.appear&&C===l)&&(!o.disappear||o.disappear&&L===l)&&(E=!0,v(),o.done&&o.done()))}function y(){if(!w){w=!0,o.init&&o.init();var e;if(typeof o.elements=="function"?e=o.elements():e=o.elements,e){l=e.length;for(var t=0;t<l;t+=1)c.push(e[t]),a.push(!0);S()}}}var A=function(e){e=e||{},o={init:e.init,elements:e.elements,appear:e.appear,disappear:e.disappear,done:e.done,reappear:e.reappear,bounds:e.bounds||0,debounce:e.debounce||50,delta:{speed:e.deltaSpeed||50,timeout:e.deltaTimeout||500}},addEventListener("DOMContentLoaded",y,!1);var t=!1;Function("/*@cc_on return document.documentMode===10@*/")()&&(t=!0);var n=document.readyState==="complete"||document.readyState==="loaded";return t?n&&y():(n||document.readyState==="interactive")&&y(),{trigger:function(){f()},pause:function(){v()},resume:function(){S()},destroy:function(){q()}}};document.addEventListener("DOMContentLoaded",function(){addEventListener("scroll",W,!1),A({init:function(){console.log("p5 sketches ready")},elements:function(){return document.getElementsByClassName("p5-iframe")},appear:function(t){t.contentWindow&&t.contentWindow.loop!=null&&(t.contentWindow.loop(),console.log(t.src,"playing"))},disappear:function(t){t.contentWindow&&t.contentWindow.noLoop!=null&&(t.contentWindow.noLoop(),console.log(t.src,"stopped"))},bounds:200,reappear:!0})});})();
